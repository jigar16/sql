(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{5830:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/schema/[slug]",function(){return a(1726)}])},423:function(e,t,a){"use strict";a.d(t,{Z:function(){return q}});var n,r,s,l,u,i,c=a(8473),o=a(2489),f=a(6510),p=JSON.parse('{"metadata":{"version":"1.0.0"},"properties":{"defaultDbOptions":{"ref":"dbOptions"}},"definitions":{"dbOptions":{"additionalProperties":true,"properties":{"sqlDialect":{"enum":["postgres","sqlite","mysql","mariadb","mssql"]},"prefixPks":{"nullable":true,"type":"boolean"},"timestamps":{"type":"boolean"},"caseStyle":{"enum":["snake","camel"]},"nounForm":{"enum":["singular","plural"]},"migrations":{"type":"boolean"}}}}}');async function S(e){var t;let a=(0,f.validate)(p,e);return a.length>0?await Promise.reject(a):{defaultDbOptions:{...t=e.defaultDbOptions,sqlDialect:function(e){switch(e){case i.Postgres:return c.t5.Postgres;case i.Sqlite:return c.t5.Sqlite;case i.Mysql:return c.t5.MySql;case i.Mariadb:return c.t5.MariaDb;case i.Mssql:return c.t5.MsSql}}(t.sqlDialect),caseStyle:function(e){switch(e){case l.Snake:return c.eB.Snake;case l.Camel:return c.eB.Camel}}(t.caseStyle),nounForm:function(e){switch(e){case u.Singular:return c.Bb.Singular;case u.Plural:return c.Bb.Plural}}(t.nounForm)}}}(n=l||(l={})).Camel="camel",n.Snake="snake",(r=u||(u={})).Plural="plural",r.Singular="singular",(s=i||(i={})).Mariadb="mariadb",s.Mssql="mssql",s.Mysql="mysql",s.Postgres="postgres",s.Sqlite="sqlite";class m{async getDefaultDbOptions(){try{let e=await y();return e?e.defaultDbOptions:c.Yn}catch(e){return console.error(e),this.clearPreferences(),c.Yn}}async updateDefaultDbOptions(e){return await b({defaultDbOptions:e}),e}async clearPreferences(){(0,o.Od)(d())}}function d(){return(0,o.yH)("userPreferences")}async function b(e){var t;let a={defaultDbOptions:{...t=e.defaultDbOptions,sqlDialect:function(e){switch(e){case c.t5.Postgres:return i.Postgres;case c.t5.Sqlite:return i.Sqlite;case c.t5.MySql:return i.Mysql;case c.t5.MariaDb:return i.Mariadb;case c.t5.MsSql:return i.Mssql}}(t.sqlDialect),caseStyle:function(e){switch(e){case c.eB.Snake:return l.Snake;case c.eB.Camel:return l.Camel}}(t.caseStyle),nounForm:function(e){switch(e){case c.Bb.Singular:return u.Singular;case c.Bb.Plural:return u.Plural}}(t.nounForm)}};return(0,o.t8)(d(),a)}async function y(){let e=(0,o.U2)(d());return e?await S(e):null}var q=new m},1726:function(e,t,a){"use strict";a.r(t),a.d(t,{SchemaPage:function(){return d},__N_SSG:function(){return m}});var n=a(5893),r=a(633),s=a(423),l=a(8473),u=a(4851),i=a(7366),c=a(6671),o=a(138),f=a(3766),p=a(3512),S=a(7294),m=!0;function d(e){let{schema:t,meta:a}=e,{data:i,refetch:m}=(0,c.Z)({getData:s.Z.getDefaultDbOptions}),d=S.useCallback(async e=>{let t=await s.Z.updateDefaultDbOptions(e);return await m(),t},[m]),b=S.useCallback(async e=>{let t=await r.Z.createSchema(e,!0);return(0,f.W)((0,p.yl)(t.id),{replace:!0}),t},[]);return(0,n.jsx)(o.Z,{schema:t,meta:a,dbOptions:i||l.Yn,initialFramework:u.SequelizeFramework,onChangeSchema:b,onChangeDbOptions:d,onClickClose:()=>(0,f.W)((0,p.dF)())})}t.default=(0,i.Z)(e=>{let{meta:t}=e;return{compact:!0,title:"".concat(t.displayName," sample database Sequelize code | Sequelize UI"),metaDescription:"A full Node.js project with TypeScript and Sequelize for the ".concat(t.displayName," sample database. Configure for MySQL, Postgres, SQLite or SQL Server.")}})(d)},6671:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(7294);function r(e){let{getData:t,variables:a,getCacheKey:r,onLoad:s,onError:l,skip:u}=e,[i,c]=n.useState(),[o,f]=n.useState(!0),[p,S]=n.useState(),m=n.useMemo(()=>new Map,[]),d=n.useCallback(async()=>{let e=a&&r&&r(a),n=e&&m.get(e);if(n){s&&s(n),c(n),f(!1),S(void 0);return}return f(!1),t(a).then(e=>{s&&s(e),c(e),f(!1),S(void 0);let t=r&&a&&r(a);return t&&m.set(t,e),e}).catch(e=>{console.error(e),l&&l(e),f(!1),S(e)})},[a,r,m,t,s,l]);return n.useEffect(()=>{u||d()},[u,d]),{data:i,loading:o,error:p,refetch:d}}}},function(e){e.O(0,[510,236,167,138,851,888,774,179],function(){return e(e.s=5830)}),_N_E=e.O()}]);